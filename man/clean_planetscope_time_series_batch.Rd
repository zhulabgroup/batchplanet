% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clean_planetscope_time_series.R
\name{clean_planetscope_time_series_batch}
\alias{clean_planetscope_time_series_batch}
\title{Clean PlanetScope time series for multiple sites and groups}
\usage{
clean_planetscope_time_series_batch(
  dir,
  v_site = NULL,
  v_group = NULL,
  num_cores = 3,
  calculate_evi = T
)
}
\arguments{
\item{dir}{Character. Base directory containing raw time series files (expects a \verb{ts/} subdirectory).}

\item{v_site}{Character vector, optional. Site identifiers to process; if \code{NULL}, all sites in \verb{ts/} are included.}

\item{v_group}{Character vector, optional. Group identifiers to process; if \code{NULL}, all groups in filenames are included.}

\item{num_cores}{Integer. Number of parallel workers to use (default: 3).}

\item{calculate_evi}{Logical. If \code{TRUE}, computes Enhanced Vegetation Index (\code{evi}) after cleaning (default: \code{TRUE}).}
}
\value{
Invisibly returns \code{NULL} and saves cleaned time series as \code{.rds} files in the \verb{clean/} subdirectory of \code{dir}.
}
\description{
Cleans raw time series data for all sites and groups, removing low-quality data and optionally calculating EVI.
Low-quality data are defined as:
\itemize{
\item The sun elevation angle is less than 0 degrees (i.e., night time images).
\item The reflectance values for any band are less than 0.
\item The pixel was cloudy, had snow, ice, shadow, haze, or cloud.
\item The usable data mask had algorithmic confidence in classification less than 80\% for the pixel.
Results are saved as \code{.rds} files under the \verb{clean/} subdirectory within \code{dir}, prefixed \code{clean_}.
}
}
\examples{
\dontrun{
clean_planetscope_time_series_batch(
  dir = "alldata/PSdata/",
  v_site = c("HARV", "SJER"),
  v_group = c("Acer", "Quercus"),
  num_cores = 3,
  calculate_evi = TRUE
)
}

}
